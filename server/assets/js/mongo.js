// Generated by CoffeeScript 1.4.0
var getMongoDoc, renderDoc, renderDocDivs;

renderDoc = function(doc) {
  return console.log(doc);
};

getMongoDoc = function(name) {
  var q;
  console.log('name: ' + name);
  q = encodeURI(JSON.stringify({
    "name": name
  }));
  return $.ajax("http://localhost:27080/DEFT/docs/_find?criteria=" + q, {
    type: 'GET',
    async: false,
    dataType: 'jsonp',
    error: function(jqXHR, textStatus, errorThrown) {
      return console.log("AJAX Error: " + textStatus);
    },
    success: function(data, textStatus, jqXHR) {
      console.log(data);
      return renderDoc(data.results[0]);
    }
  });
};

renderDocDivs = function() {
  var name;
  name = "data/tac-nyt-sample/NYT_ENG_20070201.0063.LDC2009T13.sgm";
  console.log('render name: ' + name);
  return getMongoDoc(name);
};

$(document).ready(renderDocDivs());
